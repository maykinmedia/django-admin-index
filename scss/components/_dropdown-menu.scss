/*
The dropdown menu is injected as a child into the header, which has a flexbox display
style (direction: row). This causes the menu to be on the same row as the branding and
user tools. However, we set the flex-basis to 100% to make it take up the full width
of the container and let the parent wrap.
 */
@import '../vars';

$djai-block: 'djai-dropdown-menu';


@mixin link-style() {
  &, &:link, &:visited {
    @content;
  }
}


.#{$djai-block} {
  // position it properly in the header as a separate row
  @at-root #header {
    flex-wrap: wrap;
    // remove the padding at the bottom so our dropdown items line up
    padding-bottom: 0;
  }
  flex-basis: 100%;

  // own layout
  display: block;
  margin-top: $djai-dropdown-menu-spacing-top;

  & &__item {
    display: inline-block;
    position: relative;
    padding: 10px;
    background-color: $djai-tab-bg;
    cursor: pointer;

    @include link-style {
      color: $color-primary-fg;
    }

    &--active {
      background-color: $djai-tab-bg--active;

      @include link-style {
        text-decoration: none;
      }
    }

    // deliberately after the --active style so it overrides it
    &:hover {
      background-color: $djai-tab-bg--hover;

      @include link-style {
        text-decoration: none !important;
      }

      .#{$djai-block}__drop {
        display: block;
      }
    }
  }

    &__drop {
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.2);
        position: absolute;
        left: 0;
        top: 100%;
        display: none;
        background-color: #417690;
        min-width: 150px;
        z-index: 50;
    }

    &__link,
    &__link:link,
    &__link:visited {
        color: #fff;
        display: block;
        padding: 10px;

        &:hover {
            background-color: #79aec8;
            text-decoration: none !important;
        }

        &.#{$djai-block}__link--active {
            background-color: #79aec8;
            text-decoration: none;
        }
    }
}
